<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./index.css">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>
<body>
    
            <div class="container">
                <h2>Form Data in localStorage</h2>
                <form onSubmit="signUp(event)">
                    <div class="form-group">
                        <input type="hidden" name="hidden" id="hidden" /> 
                </div>
                        <div class="form-group">
                                <input type="text"  name="fname" id="fname" placeholder="First Name" class="form-control" /> 
                        </div>
                        <div class="form-group">
                            <input type="text"  name="lname" id="lname" placeholder="Last Name" class="form-control"/> 
                    </div>
                    <div class="form-group">
                        <input type="email"  name="email" id="email" placeholder="Email" class="form-control" /> 
                </div>
                <div class="form-group">
                    <input type="date"  name="date" id="date"  class="form-control" /> 
            </div>
            <div class="form-group">
                <textarea  name="address" id="address" placeholder="Address" class="form-control"></textarea> 
        </div>
                <div class="form-group">
                    <h6>Hobbies:-</h6>
                   Cricket <input type="checkbox"  name="hobby" id="hobby"   value="cricket" class="form-check-input ch" />
                   FootBall <input type="checkbox"  name="hobby" id="hobby"  value="football" class="form-check-input ch"/> 
                   Reading <input type="checkbox"  name="hobby" id="hobby" value="reading" class="form-check-input ch"/> 

            </div>
            <br/>
            <div class="form-group">
                <h6>Gender:-</h6>
                Male <input type="radio"  name="gender" id="gender"   value="male" class="form-check-input" />
                Female <input type="radio"  name="gender" id="gender"   value="female" class="form-check-input" />

         </div>
         <div class="form-group">
            <input type="password"  name="password" id="password" placeholder="Password " class="form-control"/> 
    </div>
    <div class="form-group">
        <input type="password"  name="cpassword" id="cpassword" placeholder="Confirm Password" class="form-control"/> 
</div>
            <br/>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Sign Up </button>

                </div>
                </form>
                <br/>
                <hr />
                <br />
                <h3> My Info</h3>
                <div id="output">

                </div>
            </div>

            <script type="text/javascript">
                        const signUp = e=>{
                                e.preventDefault();
                   
                  

                        let formData = JSON.parse(localStorage.getItem('formData')); 
  
                        var hbox = document.querySelectorAll("input[type='checkbox']:checked");
                        
                        let hobbArr=[];
                      
                                for(let i=0; i<hbox.length;i++){
                                    hobbArr.push(hbox[i].value)
                                         if(hbox[i].checked ==true){

                                            document.getElementsByName("hobby").checked =true

                                     }
                                }

                                if(document. getElementById('gender'). checked) {
                                            gender.value ="male"
                                }
                                else if(document. getElementById('gender'). checked) {
                                    gender.value ="female"
                                }
                               
  
                         formData.push({
                                 id:new Date().getTime().toString(),
                                 fname:document.getElementById('fname').value,
                                lname:document.getElementById('lname').value,
                                email:document.getElementById('email').value,
                                date:document.getElementById('date').value,
                                gender:document.getElementById('gender').value,
                                password:document.getElementById('password').value,
                                cpassword:document.getElementById('cpassword').value,
                                hobby: hobbArr
                               

                         });    
                             localStorage.setItem("formData", JSON.stringify(formData))
                                 displayData();
                                    e.preventDefault();
                        
                        };
                        

                        function EditRegister() {
                             JSON.parse(localStorage.getItem("formData")).forEach(data =>{
                                    

                             })      
                                }

                                        

                        function displayData(){
                          //  console.log(localStorage.getItem("formData"))
                            if(localStorage.getItem("formData")){ 
                           var output = document.getElementById('output'); 
                           // var output = document.querySelector('tbody'); 
                            output.innerHTML=='';
                           JSON.parse(localStorage.getItem("formData")).forEach(data =>{
                             output.innerHTML+=`
                             <table class="table">
                            <tbody>
                            <tr>
                            <td>${data.fname}</td>
                            <td>${data.lname}</td>
                            <td>${data.email}</td>
                            <td>${data.hobby} </td>
                            <td>${data.date } </td>
                            <td>${data.gender } </td>
                            <td>
                            <button class="btn btn-warning" onClick='EditRegister()'>Edit</button>
                            <button class="btn btn-danger">Delete</button>
                            </td>
                            </tr>
   
                    </tbody>
                </table>
                `;                     
                           })
                                     }
                                        }
                        displayData();
            </script>
</body>
</html>